<!DOCTYPE html>
<html
  lang="en"
  xmlns:th="http://www.thymeleaf.org"
  xmlns:sec="http://www.thymeleaf.org/extras/springsecurity"
  th:replace="~{base::layout(~{::.container}, ~{::title}, ~{::script})}"
>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Order</title>
  </head>
  <body>
    <div class="container" th:object="${order}">
        <h3>Order Details</h3>
        <div class="card">
            <div class="card-body">
                <div class="row">
                    <div class="col">Order Date</div>
                    <div class="col" th:text="*{orderCreated}" />
                </div>
                <div class="row">
                    <div class="col">Order #</div>
                    <div class="col" th:text="${#strings.toUpperCase(order.id)}" />
                </div>
                <div class="row">
                    <div class="col">Order Total</div>
                    <div class="col" th:text="'$' + *{amount} + ' (' + ${#lists.size(order.cartItems)} + ' Items)'"></div>
                </div>
            </div>
        </div>
        <hr>
        <h3>Shipment Details</h3>
        <div class="card mt-3">
            <div class="card-body">
                <div class="row mb-3">
                    <h5 th:text="*{orderStatus}" />
                </div>
                <th:block th:with="items=${order.cartItems}">
                    <div class="row mb-3" th:each="item : ${items}">
                        <div class="col-2">
                            <img th:src="${item.food.image}" class="img-thumbnail object-fit-cover" height="150" width="150" alt="" />
                        </div>
                        <div class="col-10">
                            <div th:text="${item.food.name}" class="fs-5 fw-bold" />
                            <div th:text="${ 'Quantity : ' + item.quantity}" />
                            <div th:text="${'Item Price : $' + item.food.price}" />
                            <div th:text="${'Total Price : $' + (item.food.price * item.quantity)}" />
                        </div>
                    </div>
                </th:block>
            </div>
        </div>
        <h3 class="mt-3">Shipping Address</h3>
        <div class="card mt-3">
            <div class="card-body">
                <div th:text="${order.address.firstName} + ' ' + ${order.address.lastName}" class="fs-5 fw-bold" />
                <div th:text="${order.address.street}" />
                <div th:text="${order.address.city} + ' ' + ${order.address.state} + ' ' + ${order.address.zipCode}" />
                <div th:text="${order.address.country}"></div>
                <div th:text="${order.address.phoneNumber}" />
            </div>
        </div>
        <h3 class="mt-3">Payment Info</h3>
        <div class="card">
            <div class="card-body">
                <div th:text="'Items Amount : $' + ${order.amount - 5}" />
                <div>Delivery Fee : $5</div>
                <div th:text="'Total Amount : $' + ${order.amount}" />
            </div>
        </div>
    </div>
    <script></script>
  </body>
</html>
